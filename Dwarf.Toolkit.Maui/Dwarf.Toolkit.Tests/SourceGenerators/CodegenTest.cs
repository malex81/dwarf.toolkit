using Dwarf.Toolkit.Maui.SourceGenerators;
using NUnit.Framework;

namespace Dwarf.Toolkit.Tests.SourceGenerators;

[TestFixture]
internal partial class CodegenTest
{
	[TestCase]
	public void SimpleBindableProperty()
	{
		var source = """
			using Microsoft.Maui.Controls;
			using Dwarf.Toolkit.Maui;

			namespace MyApp;

			partial class MyMauiObject : BindableObject
			{
				[BindableProperty]
				public partial string MyProp { get; set; }
			}
			""";

		var result = """
			// <auto-generated/>
			namespace MyApp;
			""";

		VerifyGenerateSources(source, [new BindablePropertyGenerator()], ("MyApp.MyMauiObject.g.cs", result));
	}
}